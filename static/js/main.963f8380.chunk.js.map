{"version":3,"sources":["reportWebVitals.js","components/NewStockForm/NewStockForm.jsx","components/Stock/Stock.jsx","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Form","props","useState","name","setName","onSubmit","e","preventDefault","addStock","className","htmlFor","type","placeholder","id","required","autoComplete","value","onChange","target","Stock","isEditing","setEditing","newName","setNewName","hidden","setHidden","useMemo","priceChange","priceInfo","priceCur","pricePre","priceChangePercentage","Math","abs","editingTemplate","editStock","onClick","viewTemplate","onMouseOver","onMouseOut","style","color","Number","toFixed","visibility","deleteStock","apiKey","preUrl","App","stocks","setStocks","moment","format","timeUpdate","setTimeUpdate","stockList","map","stock","stocksNoun","length","headingText","onSuccessFetch","newStocks","fetchData","promises","apiUrl","api","axios","all","spread","responses","index","data","pc","c","catch","errors","console","log","remainingStocks","filter","encodeURI","toUpperCase","trim","includes","alert","editedStocks","forEach","get","response","t","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","useInterval","textAlign","newStock","nanoid","tabIndex","role","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.963f8380.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import \"./style.css\"\r\nimport React, {useState} from \"react\";\r\n\r\nexport default function Form(props){\r\n    const [name, setName] = useState('');\r\n    function handleSubmit(e){\r\n      e.preventDefault();\r\n      props.addStock(name);\r\n      setName(\"\");\r\n    }\r\n    function handleChange(e){\r\n      setName(e.target.value);\r\n    }\r\n    return (<form onSubmit={handleSubmit}>\r\n        <h2 className=\"label-wrapper\"><label htmlFor=\"new-stock-input\" className=\"label__lg\">What stock do you want to add?</label></h2>\r\n      \r\n      <input type=\"text\" placeholder=\"Input a new stock\" id=\"new-stock-input\" required className=\"input input__lg\" name=\"text\" autoComplete=\"off\" value={name} onChange={handleChange} />\r\n      <button type=\"submit\" className=\"btn btn__primary btn__lg\">Add</button>\r\n      </form>);  \r\n};","import React, {useState, useMemo} from \"react\";\r\nimport \"./style.css\"\r\nexport default function Stock(props){\r\n    const [isEditing, setEditing] = useState(false);\r\n    const [newName, setNewName] = useState('');\r\n    const [hidden, setHidden] = useState(true);\r\n\r\n    // const priceChange = props.priceInfo.priceCur-props.priceInfo.pricePre;\r\n    // const priceChangePercentage = Math.abs(priceChange / props.priceInfo.pricePre * 100);\r\n\r\n    const {priceChange, priceChangePercentage} = useMemo(()=>{\r\n        const priceChange = props.priceInfo.priceCur-props.priceInfo.pricePre;\r\n        return {priceChange,\r\n        priceChangePercentage: Math.abs(priceChange / props.priceInfo.pricePre * 100)}}, [props.priceInfo.priceCur, props.priceInfo.pricePre]);\r\n\r\n    function mouserOver(){\r\n        setHidden(false);\r\n    }\r\n    function mouseOut(){\r\n        setHidden(true);\r\n    }\r\n    \r\n    const editingTemplate = (\r\n        <form className=\"stack-small\" onSubmit={(e)=>{e.preventDefault(); props.editStock(props.id, newName); setNewName(\"\"); setEditing(false)}}>\r\n            <div className=\"form-group\">\r\n                <label className=\"stock-label\" htmlFor={props.id}>\r\n                    Input a stock name:\r\n                </label>\r\n                <input id={props.id} className=\"stock-text\" type=\"text\" value={newName} onChange={e=>{setNewName(e.target.value);}}\r\n                />\r\n            </div>\r\n            <div className=\"btn-group\">\r\n                <button type=\"button\" className=\"btn stock-cancel\" onClick={()=>{setEditing(false);}}>\r\n                    Cancel\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn__primary stock-edit\">\r\n                    Save\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n    const viewTemplate=(\r\n    <div className=\"stack-small\" onMouseOver={mouserOver} onMouseOut={mouseOut}>\r\n    <div className=\"c-cb\"  >       \r\n        <div className=\"stock-container\">\r\n            <label className=\"stock-label\" htmlFor={props.id}>\r\n                {props.name}\r\n            </label> \r\n            <div>      \r\n                <span className=\"stock-price\">{props.priceInfo.priceCur}</span><br/>\r\n                <span className=\"stock-price\" style={{color:priceChange>0?\"green\":\"red\"}}>{priceChange>0?\"+\":\"\"}{Number(priceChange).toFixed(2)} ({Number(priceChangePercentage).toFixed(2)}%)<br/></span>\r\n            </div>  \r\n        </div>\r\n    </div>\r\n    <div className=\"btn-group\"  style={{visibility: hidden?\"hidden\":\"visible\"}}>\r\n        <button type=\"button\" className=\"btn\" onClick={()=>setEditing(true)} >\r\n            Edit <span className=\"visually-hidden\">{props.name} </span>\r\n        </button>\r\n        <button type=\"button\" className=\"btn btn__danger\" onClick={()=>{props.deleteStock(props.id)}}>\r\n            Delete <span className=\"visually-hidden\">{props.name}</span>\r\n        </button>\r\n        \r\n    </div>\r\n    <hr />\r\n    </div>\r\n);\r\n\r\n\r\n    return(\r\n        <li className=\"stock\">{isEditing? editingTemplate: viewTemplate}</li>\r\n    );\r\n}","import NewStockForm from \"./components/NewStockForm/NewStockForm\";\r\nimport React, {useState, useRef, useEffect} from \"react\";\r\nimport {nanoid} from \"nanoid\";\r\nimport Stock from \"./components/Stock/Stock\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment-timezone\";\r\n\r\nconst apiKey = \"c1433cn48v6s4a2e39q0\";\r\nconst preUrl = \"https://finnhub.io/api/v1/quote?symbol=\";\r\n\r\nfunction App(props) {\r\n  const [stocks, setStocks] = useState(props.stocks);\r\n  const [timeUpdate, setTimeUpdate] = useState(moment().format('LT'));\r\n\r\n  const stockList = stocks.map(stock => (<Stock id={stock.id} name={stock.name} key={stock.id}  deleteStock={deleteStock} editStock={editStock}\r\n  priceInfo={stock.priceInfo}/>));\r\n  const stocksNoun = stockList.length!==1? 'stocks' : 'stock';\r\n  const headingText = `${stockList.length} ${stocksNoun}`;\r\n  \r\n  useInterval(()=>{fetchData();}, 60000)\r\n\r\n  function onSuccessFetch(newStocks) {\r\n    setStocks(newStocks);\r\n    setTimeUpdate(moment().format('LT'));\r\n  }\r\n  \r\n  function fetchData() {\r\n    let apiList = stocks.map(stock=>({apiUrl:`${preUrl}${stock.name}&token=${apiKey}`}));\r\n    let promises = apiList.map(api=>axios(api.apiUrl));\r\n  \r\n    axios.all(promises).then(axios.spread((...responses)=>{\r\n      const newStocks = stocks.map((stock, index)=>{\r\n        return {...stock, priceInfo:{'pricePre':responses[index].data.pc, 'priceCur':responses[index].data.c}};\r\n      });\r\n      onSuccessFetch(newStocks);      \r\n    })).catch(errors => {\r\n      console.log(errors);\r\n    });\r\n  } \r\n\r\n  function useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n  \r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    });\r\n  \r\n    useEffect(() => {\r\n      function tick() {\r\n        savedCallback.current();\r\n      }\r\n      fetchData();\r\n\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }, [delay]);\r\n  }\r\n\r\n  function deleteStock(id){\r\n    const remainingStocks = stocks.filter(stock=> id !== stock.id);\r\n    setStocks(remainingStocks);\r\n  }\r\n  \r\n  function editStock(id, name){\r\n    let newName = encodeURI(name.toUpperCase().trim());\r\n\r\n    if (stocks.map(stock=>stock.name).includes(newName))\r\n    {\r\n      alert(newName + \" is already on the watch list\");\r\n      return;\r\n    }\r\n\r\n    const editedStocks=[...stocks];\r\n    \r\n    stocks.forEach((stock, index) => {\r\n      if (id=== stock.id)\r\n      {\r\n        axios.get(`${preUrl}${newName}&token=${apiKey}`)\r\n        .then((response)=>{\r\n          if (response.data.t!==0){      \r\n            const priceInfo={'pricePre':response.data.pc, 'priceCur':response.data.c};\r\n            editedStocks[index].name = newName;\r\n            editedStocks[index].priceInfo = priceInfo;\r\n            setStocks(editedStocks);\r\n          }\r\n          else{\r\n            alert(name + \" does not exist\");\r\n          }\r\n        })\r\n        .catch(errors=>{console.log(errors);});\r\n      }\r\n    });   \r\n  }\r\n\r\n  function addStock(name){\r\n    let newName = encodeURI(name.toUpperCase().trim());\r\n    if (stocks.map(stock=>stock.name).includes(newName))\r\n    {\r\n      alert(newName + \" is already on the watch list\");\r\n      return;\r\n    }\r\n    axios.get(`${preUrl}${newName}&token=${apiKey}`)\r\n    .then(response=>{\r\n      \r\n      const newStock = {id:\"stock-\" + nanoid(), name:newName, priceInfo:{'pricePre':response.data.pc, 'priceCur':response.data.c}};\r\n      \r\n      if (response.data.t!==0){      \r\n        setStocks([...stocks, newStock]);\r\n      }\r\n      else{\r\n        alert(\"The \"+newName + \" is not a stock symbol\");\r\n      }\r\n    })\r\n    .catch(errors=>{console.log(errors)});  \r\n  }\r\n \r\n\r\n  return (\r\n    <div className=\"stockapp stack-large\">\r\n      <h1>Stock Prices</h1>\r\n        <p style={{textAlign:\"center\"}}>Update at {timeUpdate}</p>\r\n        <NewStockForm addStock={addStock}/>\r\n      <div className=\"filters btn-group stack-exception\">      \r\n      </div>\r\n      <h2 id=\"list-heading\" tabIndex=\"-1\" >{headingText}</h2>\r\n      <ul role=\"list\" className=\"stock-list stack-large stack-exception\">\r\n        {stockList}        \r\n      </ul>\r\n    </div> \r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from \"./App\"\r\nconst DATA=[{id:\"stock-0\", name:\"STM\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"stock-1\", name:\"TXN\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"stock-2\", name:\"AMD\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"stock-3\", name:\"MSFT\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"stock-4\", name:\"INTC\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n];\r\n\r\n\r\nReactDOM.render(\r\n\r\n    <App stocks={DATA}/>,\r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}