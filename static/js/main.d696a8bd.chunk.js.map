{"version":3,"sources":["reportWebVitals.js","components/Todo.jsx","components/Form.jsx","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Todo","props","useState","isEditing","setEditing","newName","setNewName","hidden","setHidden","editFieldRef","useRef","editButtonRef","wasEditing","value","ref","useEffect","current","usePrevious","priceChange","priceInfo","priceCur","pricePre","priceChangePercentage","Math","abs","focus","editingTemplate","className","onSubmit","e","preventDefault","editTask","id","htmlFor","type","onChange","target","onClick","viewTemplate","onMouseOver","console","log","onMouseOut","name","style","color","Number","toFixed","display","deleteTask","Form","setName","addTask","placeholder","required","autoComplete","axios","require","moment","apiKey","preUrl","App","stocks","setStocks","prevTaskLenght","length","format","timeUpdate","SetTime","listHeadingRef","stockList","map","stock","tasksNoun","headingText","fetchData","promises","apiUrl","api","all","spread","responses","newStocks","index","data","pc","c","catch","errors","remainingTasks","filter","task","encodeURI","toUpperCase","trim","includes","alert","editedTasks","forEach","get","response","t","callback","delay","savedCallback","setInterval","clearInterval","useInterval","textAlign","newTask","nanoid","tabIndex","role","aria-labelledby","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d696a8bd.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, {useEffect ,useRef, useState} from \"react\";\r\n\r\nexport default function Todo(props){\r\n    const [isEditing, setEditing] = useState(false);\r\n    const [newName, setNewName] = useState('');\r\n    const [hidden, setHidden] = useState(true);\r\n    const editFieldRef = useRef(null);\r\n    const editButtonRef = useRef(null);\r\n    const wasEditing = usePrevious(isEditing);\r\n    const priceChange = props.priceInfo.priceCur-props.priceInfo.pricePre;\r\n    const priceChangePercentage = Math.abs(priceChange / props.priceInfo.pricePre * 100);\r\n\r\n    function usePrevious(value){\r\n        const ref=useRef();\r\n        useEffect(()=>{\r\n            ref.current = value;\r\n        });\r\n        return ref.current;\r\n    }\r\n\r\n    function mouserOver(){\r\n        setHidden(false);\r\n        console.log(\"Over\");\r\n    }\r\n    function mouseOut(){\r\n        setHidden(true);\r\n        console.log(\"Out\");\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if (!wasEditing && isEditing) {\r\n            editFieldRef.current.focus();\r\n        }\r\n        if (wasEditing && !isEditing) {\r\n            editButtonRef.current.focus();\r\n        }\r\n    }, [wasEditing, isEditing]);    \r\n    \r\n    const editingTemplate = (\r\n        <form className=\"stack-small\" onSubmit={(e)=>{e.preventDefault(); props.editTask(props.id, newName); setNewName(\"\"); setEditing(false)}} ref={editFieldRef}>\r\n            <div className=\"form-group\">\r\n                <label className=\"todo-label\" htmlFor={props.id}>\r\n                    Input a stock name:\r\n                </label>\r\n                <input id={props.id} className=\"todo-text\" type=\"text\" value={newName} onChange={e=>{setNewName(e.target.value);}}\r\n                />\r\n            </div>\r\n            <div className=\"btn-group\">\r\n                <button type=\"button\" className=\"btn todo-cancel\" onClick={()=>{setEditing(false);}}>\r\n                    Cancel\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn__primary todo-edit\">\r\n                    Save\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n    const viewTemplate=(\r\n    <div className=\"stack-small\" onMouseOver={mouserOver} onMouseOut={mouseOut}>\r\n    <div className=\"c-cb\"  >       \r\n        <div className=\"stock-container\">\r\n            <label className=\"todo-label\" htmlFor={props.id}>\r\n                {props.name}\r\n            </label> \r\n            <div>      \r\n                <span className=\"stock-price\">{props.priceInfo.priceCur}</span><br/>\r\n                <span className=\"stock-price\" style={{color:priceChange>0?\"green\":\"red\"}}>{priceChange>0?\"+\":\"\"}{Number(priceChange).toFixed(2)} ({Number(priceChangePercentage).toFixed(2)}%)<br/></span>\r\n            </div>  \r\n        </div>\r\n    </div>\r\n    <div className=\"btn-group\"  style={{display: hidden?\"none\":\"\"}}>\r\n        <button type=\"button\" className=\"btn\" onClick={()=>setEditing(true)} ref={editButtonRef}>\r\n            Edit <span className=\"visually-hidden\">{props.name} </span>\r\n        </button>\r\n        <button type=\"button\" className=\"btn btn__danger\" onClick={()=>{props.deleteTask(props.id)}}>\r\n            Delete <span className=\"visually-hidden\">{props.name}</span>\r\n        </button>\r\n    </div>\r\n    </div>\r\n);\r\n\r\n\r\n    return(\r\n        <li className=\"todo\">{isEditing? editingTemplate: viewTemplate}</li>\r\n    );\r\n}","import React, {useState} from \"react\";\r\n\r\nexport default function Form(props){\r\n    const [name, setName] = useState('');\r\n    function handleSubmit(e){\r\n      e.preventDefault();\r\n      props.addTask(name);\r\n      setName(\"\");\r\n    }\r\n    function handleChange(e){\r\n      setName(e.target.value);\r\n    }\r\n    return (<form onSubmit={handleSubmit}>\r\n        <h2 className=\"label-wrapper\"><label htmlFor=\"new-todo-input\" className=\"label__lg\">What stock do you want to add?</label></h2>\r\n      \r\n      <input type=\"text\" placeholder=\"Input a new stock\" id=\"new-todo-input\" required className=\"input input__lg\" name=\"text\" autoComplete=\"off\" value={name} onChange={handleChange} />\r\n      <button type=\"submit\" className=\"btn btn__primary btn__lg\">Add</button>\r\n      </form>);  \r\n};","import Todo from \"./components/Todo\";\r\nimport Form from \"./components/Form\";\r\nimport React, {useState, useRef, useEffect} from \"react\";\r\nimport {nanoid} from \"nanoid\";\r\n// import useInterval from 'react-useinterval';\r\n\r\nconst axios = require('axios');\r\nconst moment = require(\"moment-timezone\");\r\nconst apiKey = \"c1433cn48v6s4a2e39q0\";\r\nconst preUrl = \"https://finnhub.io/api/v1/quote?symbol=\";\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const [stocks, setStocks] = useState(props.stocks);\r\n  const prevTaskLenght = usePrevious(stocks.length);\r\n  const [timeUpdate, SetTime] = useState(moment().format('LT'));\r\n  const [active, SetActive] = useState(false);\r\n  function usePrevious(value) {\r\n    const ref = useRef();\r\n    useEffect(()=>{\r\n      ref.current = value;\r\n    });\r\n    return ref.current;\r\n  }\r\n  const listHeadingRef = useRef(null);\r\n  const stockList = stocks.map(stock => (<Todo id={stock.id} name={stock.name} key={stock.id}  deleteTask={deleteTask} editTask={editTask}\r\n  priceInfo={stock.priceInfo}/>));\r\n  const tasksNoun = stockList.length!==1? 'stocks' : 'stock';\r\n  const headingText = `${stockList.length} ${tasksNoun}`;\r\n  \r\n\r\n  useEffect(()=>{\r\n    if (stockList.length-prevTaskLenght ===-1){\r\n      listHeadingRef.current.focus();\r\n    }\r\n  }, [stockList.length, prevTaskLenght]);\r\n\r\n  useInterval(()=>{fetchData();}, 60000)\r\n\r\n  function fetchData() {\r\n    let apiList = stocks.map(stock=>({apiUrl:`${preUrl}${stock.name}&token=${apiKey}`}));\r\n    let promises = apiList.map(api=>axios(api.apiUrl));\r\n    // console.log(stocks);\r\n\r\n    axios.all(promises).then(axios.spread((...responses)=>{\r\n      const newStocks = stocks.map((stock, index)=>{\r\n        return {...stock, priceInfo:{'pricePre':responses[index].data.pc, 'priceCur':responses[index].data.c}};\r\n      });\r\n      setStocks(newStocks);\r\n      SetTime(moment().format('LT'));\r\n      \r\n    })).catch(errors => {\r\n      console.log(errors);\r\n    });\r\n  } \r\n\r\n  function useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n  \r\n    useEffect(() => {\r\n      savedCallback.current = callback;\r\n    });\r\n  \r\n    useEffect(() => {\r\n      function tick() {\r\n        savedCallback.current();\r\n      }\r\n      fetchData();\r\n\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }, [delay]);\r\n  }\r\n\r\n  function deleteTask(id){\r\n    const remainingTasks = stocks.filter(task=> id !== task.id);\r\n    setStocks(remainingTasks);\r\n    // console.log(remainingTasks);\r\n  }\r\n\r\n  function editTask(id, name){\r\n    let newName = encodeURI(name.toUpperCase().trim());\r\n\r\n    if (stocks.map(stock=>stock.name).includes(newName))\r\n    {\r\n      alert(newName + \" is already on the watch list\");\r\n      return;\r\n    }\r\n\r\n    const editedTasks=[...stocks];\r\n\r\n    stocks.forEach((task, index) => {\r\n      if (id=== task.id)\r\n      {\r\n        let tmpName = task.name;\r\n        let priceInfo={'pricePre':task.priceInfo.pricePre, 'priceCur':task.priceInfo.priceCur};\r\n        axios.get(`${preUrl}${newName}&token=${apiKey}`)\r\n        .then((response)=>{\r\n          if (response.data.t!==0){      \r\n            tmpName = newName;\r\n            priceInfo={'pricePre':response.data.pc, 'priceCur':response.data.c};\r\n            editedTasks[index].name = newName;\r\n            editedTasks[index].priceInfo = priceInfo;\r\n            console.log(stocks);\r\n            console.log(editedTasks);\r\n            setStocks(editedTasks);\r\n            console.log(priceInfo);\r\n          }\r\n          else{\r\n            alert(name + \" does not exist\");\r\n          }\r\n        })\r\n        .catch(errors=>{console.log(errors);});\r\n\r\n      }\r\n    });\r\n    // setStocks(editedTasks);\r\n    // stocks.map(task=>{\r\n    //   if (id === task.id){\r\n        \r\n        \r\n    //     console.log(priceInfo);\r\n    //     const pullPrice = async ()=>{\r\n    //       let tmpName = task.name;\r\n    //       let priceInfo={'pricePre':task.priceInfo.pricePre, 'priceCur':task.priceInfo.priceCur};\r\n    //       try {\r\n    //         const response = await axios.get(`${preUrl}${newName}&token=${apiKey}`);\r\n    //         console.log(response.data);\r\n    //         if (response.data.t!==0){      \r\n    //           tmpName = newName;\r\n    //           priceInfo={'pricePre':response.data.pc, 'priceCur':response.data.c};\r\n    //           console.log(priceInfo);\r\n    //         }\r\n    //         else{\r\n    //           alert(\"The \"+newName + \" is not a stock symbol\");\r\n    //         }\r\n    //       }\r\n    //       catch(error){\r\n    //         console.log(error);\r\n    //       }\r\n    //       return {tmpName, priceInfo};\r\n    //     }\r\n    //     const {tmpName, priceInfo} = pullPrice();\r\n    //     console.log(tmpName);\r\n    //     return {...task, name:tmpName, priceInfo:priceInfo};\r\n    //   }\r\n    //   return task;\r\n    // });\r\n    // setStocks(editedTasks);\r\n   \r\n  }\r\n\r\n  function addTask(name){\r\n    let newName = encodeURI(name.toUpperCase().trim());\r\n    if (stocks.map(stock=>stock.name).includes(newName))\r\n    {\r\n      alert(newName + \" is already on the watch list\");\r\n      return;\r\n    }\r\n    axios.get(`${preUrl}${newName}&token=${apiKey}`)\r\n    .then(response=>{\r\n      \r\n      const newTask = {id:\"todo-\" + nanoid(), name:newName, priceInfo:{'pricePre':response.data.pc, 'priceCur':response.data.c}};\r\n      \r\n      if (response.data.t!==0){      \r\n        setStocks([...stocks, newTask]);\r\n      }\r\n      else{\r\n        alert(\"The \"+newName + \" is not a stock symbol\");\r\n      }\r\n    })\r\n    .catch(errors=>{console.log(errors)});  \r\n  }\r\n \r\n\r\n  return (\r\n    <div className=\"todoapp stack-large\">\r\n      <h1>Stock Prices</h1>\r\n        <p style={{textAlign:\"center\"}}>Update at {timeUpdate}</p>\r\n        <Form addTask={addTask}/>\r\n      <div className=\"filters btn-group stack-exception\">\r\n      \r\n      </div>\r\n      <h2 id=\"list-heading\" tabIndex=\"-1\" ref={listHeadingRef}>{headingText}</h2>\r\n      <ul role=\"list\" className=\"todo-list stack-large stack-exception\" aria-labelledby='list-heading'>\r\n        {stockList}        \r\n      </ul>\r\n    </div> \r\n\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from \"./App\"\r\nconst DATA=[{id:\"todo-0\", name:\"STM\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"todo-1\", name:\"TXN\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"todo-2\", name:\"AMD\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"todo-3\", name:\"MSFT\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n{id: \"todo-4\", name:\"INTC\", priceInfo:{'pricePre':0, 'priceCur':0}},\r\n];\r\n\r\n\r\nReactDOM.render(\r\n\r\n    <App stocks={DATA}/>,\r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}