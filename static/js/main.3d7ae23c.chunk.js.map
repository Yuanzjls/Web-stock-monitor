{"version":3,"sources":["reportWebVitals.js","features/stockSlice.js","app/fetchData.js","components/NewStockForm/NewStockForm.jsx","components/Stock/Stock.jsx","App.js","app/store.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","stockSlice","createSlice","name","initialState","id","symbol","priceInfo","pricePre","priceCur","reducers","addStock","state","action","nanoid","payload","deleteStock","filter","item","editStock","map","updateStock","index","actions","selectStock","stock","makeUrl","newSymbol","Form","props","useState","setSymbol","dispatch","useDispatch","onSubmit","e","preventDefault","getState","includes","alert","axios","get","timeout","response","newStock","data","pc","c","catch","errors","code","console","log","className","htmlFor","type","placeholder","required","autoComplete","value","onChange","target","Stock","isEditing","setEditing","setNewSymbol","hidden","setHidden","useMemo","priceChange","priceChangePercentage","Math","abs","editingTemplate","editedSymbol","onClick","viewTemplate","onMouseOver","onMouseOut","style","color","Number","toFixed","visibility","App","moment","format","timeUpdate","stockList","useSelector","length","noun","headingText","callback","delay","saveCallback","useRef","useEffect","current","tick","setInterval","clearInterval","useInterval","stocks","promises","apiUrl","api","all","spread","responses","newPrice","textAlign","tabIndex","role","configureStore","reducer","stockReducer","middleware","thunk","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"4NAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,8CCJDQ,EAAaC,YAAY,CACrCC,KAAM,QACNC,aAAc,CACb,CAAEC,GAAI,UAAWC,OAAQ,MAAOC,UAAW,CAAEC,SAAU,EAAGC,SAAU,IACpE,CAAEJ,GAAI,UAAWC,OAAQ,MAAOC,UAAW,CAAEC,SAAU,EAAGC,SAAU,IACpE,CAAEJ,GAAI,UAAWC,OAAQ,MAAOC,UAAW,CAAEC,SAAU,EAAGC,SAAU,IACpE,CAAEJ,GAAI,UAAWC,OAAQ,OAAQC,UAAW,CAAEC,SAAU,EAAGC,SAAU,IACrE,CAAEJ,GAAI,UAAWC,OAAQ,OAAQC,UAAW,CAAEC,SAAU,EAAGC,SAAU,KAEtEC,SAAU,CACTC,SAAU,SAACC,EAAOC,GACjB,MAAM,GAAN,mBAAWD,GAAX,CAAkB,CAAEP,GAAI,SAAWS,cAAUR,OAAQO,EAAOE,QAAQT,OAAQC,UAAWM,EAAOE,QAAQR,cAEvGS,YAAa,SAACJ,EAAOC,GACpB,OAAOD,EAAMK,QAAO,SAACC,GAAD,OAAUA,EAAKb,KAAOQ,EAAOE,QAAQV,OAE1Dc,UAAW,SAACP,EAAOC,GAClB,OAAOD,EAAMQ,KAAI,SAACF,GACjB,OAAIA,EAAKb,KAAOQ,EAAOE,QAAQV,GACvB,2BAAKa,GAAZ,IAAkBZ,OAAQO,EAAOE,QAAQT,OAAQC,UAAWM,EAAOE,QAAQR,YAEpEW,MAIVG,YAAa,SAACT,EAAOC,GAKpB,OAJiBD,EAAMQ,KAAI,SAACF,EAAMI,GACjC,OAAO,2BAAKJ,GAAZ,IAAkBX,UAAWM,EAAOE,QAAQO,GAAOf,mB,EAQUN,EAAWsB,QAA7DZ,E,EAAAA,SAAUK,E,EAAAA,YAAaG,E,EAAAA,UAAWE,E,EAAAA,YAEpCG,EAAc,SAACZ,GAAD,OAAWA,EAAMa,OAE7BxB,IAAf,Q,uBCuBO,SAASyB,EAAQC,GACvB,MAAM,GAAN,OA9Dc,2CA8Dd,OAAmBA,EAAnB,kBA/Dc,wB,WCEA,SAASC,EAAKC,GAAQ,IAAD,EACNC,mBAAS,IADH,mBAC3BxB,EAD2B,KACnByB,EADmB,KAE5BC,EAAWC,cAUjB,OAAQ,uBAAMC,SARd,SAAsBC,GDeM,IAACR,ECd3BQ,EAAEC,iBACFJ,GDa2BL,ECbHrB,EDaiB,SAAC0B,EAAUK,GAC1CA,IAEFZ,MAAML,KAAI,SAACK,GAAD,OAAWA,EAAMnB,UAAQgC,SAASX,GACtDY,MAAMZ,EAAY,iCAGnBa,IACEC,IAAIf,EAAQC,GAAY,CAAEe,QAAS,MACnC/C,MAAK,SAACgD,GACN,IAAMC,EAAW,CAAEtC,OAAQqB,EAAWpB,UAAW,CAAEC,SAAUmC,EAASE,KAAKC,GAAIrC,SAAUkC,EAASE,KAAKE,IACvGf,EAASrB,EAASiC,OAElBI,OAAM,SAACC,GACa,iBAAhBA,EAAOC,MACVX,MAAM,OAASZ,EAAY,0BAE5BwB,QAAQC,IAAIH,SC7BXlB,EAAU,KAKJ,UACN,oBAAIsB,UAAU,gBAAd,SAA8B,uBAAOC,QAAQ,kBAAkBD,UAAU,YAA3C,8CAE9B,uBAAOE,KAAK,OAAOC,YAAY,oBAAoBnD,GAAG,kBAAkBoD,UAAQ,EAACJ,UAAU,kBAAkBlD,KAAK,OAAOuD,aAAa,MAAMC,MAAOrD,EAAQsD,SAN7J,SAAsBzB,GACpBJ,EAAUI,EAAE0B,OAAOF,UAMnB,wBAAQJ,KAAK,SAASF,UAAU,2BAAhC,oB,MChBW,SAASS,EAAMjC,GAAQ,IAAD,EACDC,oBAAS,GADR,mBAC1BiC,EAD0B,KACfC,EADe,OAEClC,mBAAS,IAFV,mBAE1BH,EAF0B,KAEfsC,EAFe,OAGLnC,oBAAS,GAHJ,mBAG1BoC,EAH0B,KAGlBC,EAHkB,KAI3BnC,EAAWC,cAJgB,EAMcmC,mBAAQ,WACnD,IAAMC,EAAcxC,EAAMtB,UAAUE,SAAWoB,EAAMtB,UAAUC,SAC/D,MAAO,CACH6D,cACAC,sBAAuBC,KAAKC,IAAIH,EAAcxC,EAAMtB,UAAUC,SAAW,QAE9E,CAACqB,EAAMtB,UAAUE,SAAUoB,EAAMtB,UAAUC,WANtC6D,EANyB,EAMzBA,YAAaC,EANY,EAMZA,sBAerB,IAAMG,EACF,uBAAMpB,UAAU,cAAcnB,SAAU,SAACC,GFiBlB,IAACuC,EEjByBvC,EAAEC,iBAAkBJ,GFiB7C0C,EEjBsE,CAAErE,GAAIwB,EAAMxB,GAAIC,OAAQqB,GFiB7E,SAACK,EAAUK,GAC9CA,IAEFZ,MAAML,KAAI,SAACK,GAAD,OAAWA,EAAMnB,UAAQgC,SAASoC,EAAapE,QACnEiC,MAAMmC,EAAapE,OAAS,iCAI7BkC,IACEC,IAAIf,EAAQgD,EAAapE,QAAS,CAAEoC,QAAS,MAC7C/C,MAAK,SAACgD,GACN,IAAMC,EAAW,CAAEvC,GAAIqE,EAAarE,GAAIC,OAAQoE,EAAapE,OAAQC,UAAW,CAAEC,SAAUmC,EAASE,KAAKC,GAAIrC,SAAUkC,EAASE,KAAKE,IACtIf,EAASb,EAAUyB,OAEnBI,OAAM,SAACC,GACa,iBAAhBA,EAAOC,MACVX,MAAM,OAASmC,EAAapE,OAAS,0BAEtC6C,QAAQC,IAAIH,SEnC8HgB,EAAa,IAAKD,GAAW,IAAlK,UACI,sBAAKX,UAAU,aAAf,UACI,uBAAOA,UAAU,cAAcC,QAASzB,EAAMxB,GAA9C,iCAGA,uBAAOA,GAAIwB,EAAMxB,GAAIgD,UAAU,aAAaE,KAAK,OAAOI,MAAOhC,EAAWiC,SAAU,SAAAzB,GAAO8B,EAAa9B,EAAE0B,OAAOF,aAGrH,sBAAKN,UAAU,YAAf,UACI,yBAAQE,KAAK,SAASF,UAAU,mBAAmBsB,QAAS,WAAQX,GAAW,IAA/E,mBAEI,sBAAMX,UAAU,kBAAhB,oCAEJ,yBAAQE,KAAK,SAASF,UAAU,8BAAhC,iBAEI,sBAAMA,UAAU,kBAAhB,0CAKVuB,EACF,sBAAKvB,UAAU,cAAcwB,YA7BjC,WACIV,GAAU,IA4B4CW,WA1B1D,WACIX,GAAU,IAyBV,UACI,qBAAKd,UAAU,OAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,uBAAOA,UAAU,cAAcC,QAASzB,EAAMxB,GAA9C,SACKwB,EAAMvB,SAEX,gCACI,sBAAM+C,UAAU,cAAhB,SAA+BxB,EAAMtB,UAAUE,WAAgB,uBAC/D,uBAAM4C,UAAU,cAAc0B,MAAO,CAAEC,MAAOX,EAAc,EAAI,QAAU,OAA1E,UAAoFA,EAAc,EAAI,IAAM,GAAIY,OAAOZ,GAAaa,QAAQ,GAA5I,KAAkJD,OAAOX,GAAuBY,QAAQ,GAAxL,KAA6L,kCAIzM,sBAAK7B,UAAU,YAAY0B,MAAO,CAAEI,WAAYjB,EAAS,SAAW,WAApE,UACI,yBAAQX,KAAK,SAASF,UAAU,MAAMsB,QAAS,kBAAMX,GAAW,IAAhE,kBACS,uBAAMX,UAAU,kBAAhB,UAAmCxB,EAAMvB,OAAzC,UAET,yBAAQiD,KAAK,SAASF,UAAU,kBAAkBsB,QAAS,WAAQ3C,EAAShB,EAAY,CAAEX,GAAIwB,EAAMxB,OAApG,oBACW,sBAAMgD,UAAU,kBAAhB,SAAmCxB,EAAM1B,aAIxD,0BAKR,OACI,oBAAIkD,UAAU,QAAd,SAAuBU,EAAYU,EAAkBG,I,qBCnB9CQ,MA9Cf,WAAgB,IAAD,EACsBtD,mBAASuD,MAASC,OAAO,OAD/C,mBACPC,EADO,KAERC,GAFQ,KAEIC,YAAYjE,IACxBkE,EAASF,EAAUE,OACnBC,EAAOD,EAAS,EAAI,SAAW,QAC/BE,EAAW,UAAMF,EAAN,YAAgBC,GAC3B3D,EAAWC,cAsBjB,OApBoB,SAAC4D,EAAUC,GAC9B,IAAMC,EAAeC,mBAErBC,qBAAU,WACTF,EAAaG,QAAUL,KAGxBI,qBAAU,WACT,SAASE,IACRJ,EAAaG,UAGd,GAAc,OAAVJ,EAAgB,CACnBK,IACA,IAAI9F,EAAK+F,YAAYD,EAAML,GAC3B,OAAO,kBAAMO,cAAchG,OAE1B,CAACyF,IAELQ,EAAY,kBAAMtE,GH/BUuE,EG+BYf,EH/BD,SAACxD,EAAUK,GAClD,IACImE,EADUD,EAAOnF,KAAI,SAACK,GAAD,MAAY,CAAEgF,OAAQ/E,EAAQD,EAAMnB,YACtCc,KAAI,SAACsF,GAAD,OAASlE,IAAMkE,EAAID,WAE9CjE,IACEmE,IAAIH,GACJ7G,KACA6C,IAAMoE,QAAO,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBAC9B,IAAMC,EAAWD,EAAUzF,KAAI,SAACF,GAAD,MAAW,CAAEX,UAAW,CAAEC,SAAUU,EAAK2B,KAAKC,GAAIrC,SAAUS,EAAK2B,KAAKE,OACrGI,QAAQC,IAAI,iBACZpB,EAASX,EAAYyF,QAGtB9D,OAAM,SAACC,GACPE,QAAQC,IAAIH,SAda,IAACsD,IG+ByB,KAEpD,sBAAKlD,UAAU,uBAAf,UACC,8CACA,oBAAG0B,MAAO,CAAEgC,UAAW,UAAvB,uBAA8CxB,KAC9C,cAAC,EAAD,IACA,qBAAKlC,UAAU,sCACf,oBAAIhD,GAAG,eAAe2G,SAAS,KAA/B,SACEpB,IAEF,oBAAIqB,KAAK,OAAO5D,UAAU,yCAA1B,SACEmC,EAAUpE,KAAI,SAACK,GAAD,OACd,cAACqC,EAAD,CAAOzD,GAAIoB,EAAMpB,GAAIC,OAAQmB,EAAMnB,OAAuBC,UAAWkB,EAAMlB,WAA3BkB,EAAMpB,a,OC7C5C6G,cAAe,CAC7BC,QAAS,CACR1F,MAAO2F,GAERC,WAAY,CAACC,OCAdC,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,CAAUC,MAAOA,EAAjB,SACC,cAAC,EAAD,QAGFC,SAASC,eAAe,SAMzBpI,M","file":"static/js/main.3d7ae23c.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { nanoid } from 'nanoid'\r\n\r\nexport const stockSlice = createSlice({\r\n\tname: 'stock',\r\n\tinitialState: [\r\n\t\t{ id: 'stock-0', symbol: 'STM', priceInfo: { pricePre: 0, priceCur: 0 } },\r\n\t\t{ id: 'stock-1', symbol: 'TXN', priceInfo: { pricePre: 0, priceCur: 0 } },\r\n\t\t{ id: 'stock-2', symbol: 'AMD', priceInfo: { pricePre: 0, priceCur: 0 } },\r\n\t\t{ id: 'stock-3', symbol: 'MSFT', priceInfo: { pricePre: 0, priceCur: 0 } },\r\n\t\t{ id: 'stock-4', symbol: 'INTC', priceInfo: { pricePre: 0, priceCur: 0 } },\r\n\t],\r\n\treducers: {\r\n\t\taddStock: (state, action) => {\r\n\t\t\treturn [...state, { id: 'stock-' + nanoid(), symbol: action.payload.symbol, priceInfo: action.payload.priceInfo }]\r\n\t\t},\r\n\t\tdeleteStock: (state, action) => {\r\n\t\t\treturn state.filter((item) => item.id !== action.payload.id)\r\n\t\t},\r\n\t\teditStock: (state, action) => {\r\n\t\t\treturn state.map((item) => {\r\n\t\t\t\tif (item.id === action.payload.id) {\r\n\t\t\t\t\treturn { ...item, symbol: action.payload.symbol, priceInfo: action.payload.priceInfo }\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdateStock: (state, action) => {\r\n\t\t\tconst newState = state.map((item, index) => {\r\n\t\t\t\treturn { ...item, priceInfo: action.payload[index].priceInfo }\r\n\t\t\t})\r\n\r\n\t\t\treturn newState\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const { addStock, deleteStock, editStock, updateStock } = stockSlice.actions\r\n\r\nexport const selectStock = (state) => state.stock\r\n\r\nexport default stockSlice.reducer\r\n","import axios from 'axios'\r\nimport { addStock, updateStock, editStock } from '../features/stockSlice'\r\n\r\nconst apiKey = 'c1433cn48v6s4a2e39q0'\r\nconst preUrl = 'https://finnhub.io/api/v1/quote?symbol='\r\n\r\nexport const fetchAllData = (stocks) => (dispatch, getState) => {\r\n\tlet apiList = stocks.map((stock) => ({ apiUrl: makeUrl(stock.symbol) }))\r\n\tlet promises = apiList.map((api) => axios(api.apiUrl))\r\n\r\n\taxios\r\n\t\t.all(promises)\r\n\t\t.then(\r\n\t\t\taxios.spread((...responses) => {\r\n\t\t\t\tconst newPrice = responses.map((item) => ({ priceInfo: { pricePre: item.data.pc, priceCur: item.data.c } }))\r\n\t\t\t\tconsole.log('fetch success')\r\n\t\t\t\tdispatch(updateStock(newPrice))\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((errors) => {\r\n\t\t\tconsole.log(errors)\r\n\t\t})\r\n}\r\n\r\nexport const fetchAddedData = (newSymbol) => (dispatch, getState) => {\r\n\tlet states = getState()\r\n\r\n\tif (states.stock.map((stock) => stock.symbol).includes(newSymbol)) {\r\n\t\talert(newSymbol + ' is already on the watch list')\r\n\t\treturn\r\n\t}\r\n\taxios\r\n\t\t.get(makeUrl(newSymbol), { timeout: 500 })\r\n\t\t.then((response) => {\r\n\t\t\tconst newStock = { symbol: newSymbol, priceInfo: { pricePre: response.data.pc, priceCur: response.data.c } }\r\n\t\t\tdispatch(addStock(newStock))\r\n\t\t})\r\n\t\t.catch((errors) => {\r\n\t\t\tif (errors.code === 'ECONNABORTED') {\r\n\t\t\t\talert('The ' + newSymbol + ' is not a stock symbol')\r\n\t\t\t}\r\n\t\t\tconsole.log(errors)\r\n\t\t})\r\n}\r\nexport const fetchEditedData = (editedSymbol) => (dispatch, getState) => {\r\n\tlet states = getState()\r\n\r\n\tif (states.stock.map((stock) => stock.symbol).includes(editedSymbol.symbol)) {\r\n\t\talert(editedSymbol.symbol + ' is already on the watch list')\r\n\t\treturn\r\n\t}\r\n\r\n\taxios\r\n\t\t.get(makeUrl(editedSymbol.symbol), { timeout: 500 })\r\n\t\t.then((response) => {\r\n\t\t\tconst newStock = { id: editedSymbol.id, symbol: editedSymbol.symbol, priceInfo: { pricePre: response.data.pc, priceCur: response.data.c } }\r\n\t\t\tdispatch(editStock(newStock))\r\n\t\t})\r\n\t\t.catch((errors) => {\r\n\t\t\tif (errors.code === 'ECONNABORTED') {\r\n\t\t\t\talert('The ' + editedSymbol.symbol + ' is not a stock symbol')\r\n\t\t\t}\r\n\t\t\tconsole.log(errors)\r\n\t\t})\r\n}\r\nexport function makeUrl(newSymbol) {\r\n\treturn `${preUrl}${newSymbol}&token=${apiKey}`\r\n}\r\n","import \"./style.css\"\r\nimport React, { useState } from \"react\";\r\nimport { addStock } from \"../../features/stockSlice\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { fetchAddedData } from '../../app/fetchData'\r\nexport default function Form(props) {\r\n  const [symbol, setSymbol] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(fetchAddedData(symbol));\r\n    setSymbol(\"\");\r\n  }\r\n  function handleChange(e) {\r\n    setSymbol(e.target.value);\r\n  }\r\n  return (<form onSubmit={handleSubmit}>\r\n    <h2 className=\"label-wrapper\"><label htmlFor=\"new-stock-input\" className=\"label__lg\">What stock do you want to add?</label></h2>\r\n\r\n    <input type=\"text\" placeholder=\"Input a new stock\" id=\"new-stock-input\" required className=\"input input__lg\" name=\"text\" autoComplete=\"off\" value={symbol} onChange={handleChange} />\r\n    <button type=\"submit\" className=\"btn btn__primary btn__lg\">Add</button>\r\n  </form>);\r\n};","import React, { useState, useMemo } from \"react\";\r\nimport \"./style.css\"\r\nimport { deleteStock, editStock } from \"../../features/stockSlice\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { fetchEditedData } from '../../app/fetchData'\r\nexport default function Stock(props) {\r\n    const [isEditing, setEditing] = useState(false);\r\n    const [newSymbol, setNewSymbol] = useState('');\r\n    const [hidden, setHidden] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    const { priceChange, priceChangePercentage } = useMemo(() => {\r\n        const priceChange = props.priceInfo.priceCur - props.priceInfo.pricePre;\r\n        return {\r\n            priceChange,\r\n            priceChangePercentage: Math.abs(priceChange / props.priceInfo.pricePre * 100)\r\n        }\r\n    }, [props.priceInfo.priceCur, props.priceInfo.pricePre]);\r\n\r\n    function mouserOver() {\r\n        setHidden(false);\r\n    }\r\n    function mouseOut() {\r\n        setHidden(true);\r\n    }\r\n\r\n    const editingTemplate = (\r\n        <form className=\"stack-small\" onSubmit={(e) => { e.preventDefault(); dispatch(fetchEditedData({ id: props.id, symbol: newSymbol })); setNewSymbol(\"\"); setEditing(false) }}>\r\n            <div className=\"form-group\">\r\n                <label className=\"stock-label\" htmlFor={props.id}>\r\n                    Input a stock name:\r\n                </label>\r\n                <input id={props.id} className=\"stock-text\" type=\"text\" value={newSymbol} onChange={e => { setNewSymbol(e.target.value); }}\r\n                />\r\n            </div>\r\n            <div className=\"btn-group\">\r\n                <button type=\"button\" className=\"btn stock-cancel\" onClick={() => { setEditing(false); }}>\r\n                    Cancel\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn__primary stock-edit\">\r\n                    Save\r\n                    <span className=\"visually-hidden\">Input a stock name:</span>\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n    const viewTemplate = (\r\n        <div className=\"stack-small\" onMouseOver={mouserOver} onMouseOut={mouseOut}>\r\n            <div className=\"c-cb\"  >\r\n                <div className=\"stock-container\">\r\n                    <label className=\"stock-label\" htmlFor={props.id}>\r\n                        {props.symbol}\r\n                    </label>\r\n                    <div>\r\n                        <span className=\"stock-price\">{props.priceInfo.priceCur}</span><br />\r\n                        <span className=\"stock-price\" style={{ color: priceChange > 0 ? \"green\" : \"red\" }}>{priceChange > 0 ? \"+\" : \"\"}{Number(priceChange).toFixed(2)} ({Number(priceChangePercentage).toFixed(2)}%)<br /></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"btn-group\" style={{ visibility: hidden ? \"hidden\" : \"visible\" }}>\r\n                <button type=\"button\" className=\"btn\" onClick={() => setEditing(true)} >\r\n                    Edit <span className=\"visually-hidden\">{props.symbol} </span>\r\n                </button>\r\n                <button type=\"button\" className=\"btn btn__danger\" onClick={() => { dispatch(deleteStock({ id: props.id })) }}>\r\n                    Delete <span className=\"visually-hidden\">{props.name}</span>\r\n                </button>\r\n\r\n            </div>\r\n            <hr />\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n        <li className=\"stock\">{isEditing ? editingTemplate : viewTemplate}</li>\r\n    );\r\n}","import NewStockForm from './components/NewStockForm/NewStockForm'\r\nimport React, { useState, useRef, useEffec, useEffect } from 'react'\r\n\r\nimport Stock from './components/Stock/Stock'\r\nimport axios from 'axios'\r\nimport moment from 'moment-timezone'\r\nimport { fetchAllData } from './app/fetchData'\r\nimport { selectStock } from './features/stockSlice'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction App() {\r\n\tconst [timeUpdate, setTimeUpdate] = useState(moment().format('LT'))\r\n\tconst stockList = useSelector(selectStock)\r\n\tconst length = stockList.length\r\n\tconst noun = length > 1 ? 'stocks' : 'stock'\r\n\tconst headingText = `${length} ${noun}`\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst useInterval = (callback, delay) => {\r\n\t\tconst saveCallback = useRef()\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tsaveCallback.current = callback\r\n\t\t})\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tfunction tick() {\r\n\t\t\t\tsaveCallback.current()\r\n\t\t\t}\r\n\r\n\t\t\tif (delay !== null) {\r\n\t\t\t\ttick()\r\n\t\t\t\tlet id = setInterval(tick, delay)\r\n\t\t\t\treturn () => clearInterval(id)\r\n\t\t\t}\r\n\t\t}, [delay])\r\n\t}\r\n\tuseInterval(() => dispatch(fetchAllData(stockList)), 10000)\r\n\treturn (\r\n\t\t<div className=\"stockapp stack-large\">\r\n\t\t\t<h1>Stock Prices</h1>\r\n\t\t\t<p style={{ textAlign: 'center' }}>Update at {timeUpdate}</p>\r\n\t\t\t<NewStockForm />\r\n\t\t\t<div className=\"filters btn-group stack-exception\"></div>\r\n\t\t\t<h2 id=\"list-heading\" tabIndex=\"-1\">\r\n\t\t\t\t{headingText}\r\n\t\t\t</h2>\r\n\t\t\t<ul role=\"list\" className=\"stock-list stack-large stack-exception\">\r\n\t\t\t\t{stockList.map((stock) => (\r\n\t\t\t\t\t<Stock id={stock.id} symbol={stock.symbol} key={stock.id} priceInfo={stock.priceInfo} />\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport stockReducer from '../features/stockSlice'\r\nimport { applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tstock: stockReducer,\r\n\t},\r\n\tmiddleware: [thunk],\r\n})\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport App from './App'\r\nimport store from './app/store'\r\nimport { Provider } from 'react-redux'\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}